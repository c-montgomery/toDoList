<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
        <script>
            let list = [];

class toDoItems{
    constructor(title){
        this.title = title;
        this._subtaskArray = []
        this._isHidden = true;
    }

   
    set subtaskArray(task){
        this._subtaskArray.push(task);
    }
    get subtaskArray(){
        return this._subtaskArray;
    }
    set dueDate(date){
        this._dueDate = date;
    }
    get dueDate(){
        return this._dueDate;
    }
    createButton(){
        let button = document.createElement('button');
        button.textContent = 'toggle subtask display';
        button.addEventListener('click', (object) => {
            this.display()
        })
        let html = document.querySelector('html');
        html.appendChild(button)
    }
    display(){
        if (this._isHidden){
            let html = document.querySelector('html');

            let title = document.createElement('p');
            title.className = 'goalTitle'
            title.textContent = this.title;

            html.appendChild(title)

            this._subtaskArray.forEach(subtask =>{
                let sub = document.createElement('p');
                sub.textContent = subtask
                title.appendChild(sub)
                this._isHidden = false;
            })
        } else{
            let title = document.getElementsByClassName('goalTitle');
            let children = document.querySelectorAll('p')
            console.log(children)
            if (children.length >0){
                children.forEach(child => child.remove())
            }
            this._isHidden = true;r        
        }
        
        
    }
    
}

class Subtask{
    set title(text){
        this._title = text;
    }
    get title(){
        return this._title;
    }
}

let sub = new Subtask()
sub.title = 'titleofsub'

let thing = new toDoItems('get groceries');
thing.createButton();
thing.subtaskArray = sub.title
thing.subtaskArray = 'fart'

        </script>
    </body>
</html>